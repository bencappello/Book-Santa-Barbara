<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdn.jsdelivr.net/npm/timepicker@1.14.1/jquery.timepicker.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/bencappello/book-santa-barbara@main/js/brettCoVarsDefaults6.js?v=11"></script>
<script src="https://cdn.jsdelivr.net/gh/bencappello/book-santa-barbara/js/dateTimePickers.js?"></script>
<script>

//onchange
brettCoRequestForm.onchange = calculateChange;
brettCoRequestForm.oninput = calculateChange;

//Calculation
function calculateChange() {
    console.log("calculateChange");

    var eventDateObject = new Date(eventDateInput.value);
    var totalCost = calculateTotalCost();

    updateSliderDisplay("customSongs");
    updateSliderDisplay("cocktailHourAddedTime");
    updateSliderDisplay("dinnerAddedTime");
    updateSliderDisplay("horns");
    updateSliderDisplay("djAddedTime");
    updateSliderDisplay("djLiveDances");
    updateSliderDisplay("bandAddedPlayers");
    updateSliderDisplay("bandAddedTime");

    // silentDiscoInput.value = silentDiscoSlider.value
    
    // if (silentDiscoSlider.value && silentDiscoSlider.value !== '0') { 
    //     silentDiscoTotalLineItem.style.display = 'flex';
    //     silentDiscoTotalCostDisplay.innerHTML = silentDiscoSlider.value;
    // } else {
    //     silentDiscoCostDisplay.innerHTML = silentDiscoSlider.value;
    // }


    //EVENT INFO
    if (eventNameInput.value) { 
        eventNameDisplay.hidden = false;
        eventNameDisplay.innerHTML = eventNameInput.value;
    };
    if (eventDateInput.value) { 
        dateLineItem.style.display = 'flex';
        eventDateDisplay.innerHTML = eventDateObject.toLocaleString("en-US", {
            month: 'long',
            day: 'numeric',
            year: 'numeric'
        });
    };
    if (startTimeInput.value) { 
        startLineItem.style.display = 'flex';
        startTimeDisplay.innerHTML = startTimeInput.value.replace(":00", ":00 ");
    };
    if (endTimeInput.value) { 
        endLineItem.style.display = 'flex';
        endTimeDisplay.innerHTML = endTimeInput.value.replace(":00", ":00 ");
    };

};

function updateSliderDisplay(prefix) {
    var slider = eval(prefix + "Slider");
    var lineItem = eval(prefix + "LineItem");
    var costDisplay = eval(prefix + "CostDisplay");

    console.log("prefix", prefix)
    eval(prefix + "Input.value = " + prefix + "Slider.value;");
    
    if (slider.value && slider.value !== '0') { 
        lineItem.style.display = 'flex';
        costDisplay.innerHTML = slider.value;
    } else {
        costDisplay.innerHTML = slider.value;
    }
}

function calculateTotalCost() {
};
</script>
